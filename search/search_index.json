{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"About","text":""},{"location":"#buckmate-is-a-file-transfer-as-code-tool-move-your-files-between-various-locations-declaratively","title":"BUCKMATE is a file transfer as code tool - move your files between various locations declaratively.","text":"Made primarily to deploy static websites to AWS S3, however it can be used to: <ul> <li>transfer files between buckets,</li> <li>transfer files between servers and buckets,</li> <li>replace content in transfered files according to yaml configuration.</li> </ul>"},{"location":"commands/","title":"Commands","text":""},{"location":"commands/#apply","title":"apply","text":"<p>Applies deployment to the infrastructure.</p> <ol> <li>Copy files from source address</li> <li>Copy files from common configuration</li> <li>Copy files from environment specific configuration (if <code>--env</code> flag provided)</li> <li>Scan and replace any config map values</li> <li>Upload complete package to target address</li> </ol> Flag Short Description Default <code>--env</code> <code>-e</code> Specifies environment specific configuration - <code>--path</code> <code>-p</code> Specifies directory that contains buckmate directory -"},{"location":"commands/#config","title":"config","text":"<p>Applies config to local files, without downloading files from <code>source</code></p> <ol> <li>Copy files from common configuration</li> <li>Copy files from environment specific configuration (if <code>--env</code> flag provided)</li> <li>Scan and replace any config map values</li> </ol> Flag Short Description Default <code>--env</code> <code>-e</code> Specifies environment specific configuration - <code>--path</code> <code>-p</code> Specifies directory that contains buckmate directory -"},{"location":"guide/","title":"Get Started","text":"<ol> <li>Install buckmate</li> </ol> Build from sourceDownload latest release from GitHub <pre><code>git clone afternun/buckmate\ngo build\nmv buckmate /usr/local/bin\n</code></pre> <pre><code>curl link &amp;&amp; mv buckmate /usr/local/bin\n</code></pre> <p>Configure AWS credentials</p> <p>If you are deploying to or from AWS S3 bucket configure AWS credentials according to their instructions.</p> <ol> <li>Create buckmate directory</li> </ol> <p>Examples</p> <p>Take a look at <code>example</code> directory in the code repository</p> <p>In the directory create:</p> <ul> <li> <p><code>Deployment.yaml</code> - here you define common configuration for your deployment, one that is shared across any environment that you work on</p> <pre><code>source:\n  address: location from which files should be copied \n  (use `s3://` prefix for s3 buckets,\n   absolute path for files on disk,\n   or path relative to root directory)\ntarget:\n  address: location to which files should be copied\n  (use `s3://` prefix for s3 buckets,\n   absolute path for files on disk,\n   or path relative to root directory)\nconfigBoundary: string that acts as prefix and suffix for config map values (Default %%%)\nconfigMap:\n  string key: string value\n</code></pre> </li> </ul> <p>Config Map</p> <p>buckmate will go over files downloaded from <code>source</code> and files defined in <code>files</code> directory and look for strings that are wrapped in <code>configBoundary</code>. If such string is found, it will be replaced with corresponding value from <code>configMap</code>. </p> <p>Example: If a file would contain string <code>%%%header%%%</code> and <code>configMap</code> an entry <code>header: My Awesome Header</code>, string <code>%%%header%%%</code> would be replaced with <code>My Awesome Header</code>. </p> <p>Environment specific configuration takes precedence over common configuration</p> <ul> <li> <p>(Optional): <code>files</code> directory</p> <p>This can hold any files that will be copied alongside files downloaded from <code>source</code></p> </li> <li> <p>(Optional): directory with name of your choosing with another <code>Deployment.yaml</code> and <code>files</code> directory</p> <p>This can hold environment specific configuration. To use it, run buckmate with <code>--env</code> flag</p> </li> </ul> <ol> <li>Run buckmate</li> </ol> <pre><code>  buckmate apply\n</code></pre>"}]}